(()=>{"use strict";function e(e,t){Array.isArray(e)?e.forEach((function(e){e.classList.remove(t)})):e.classList.remove(t)}function t(e,t){Array.isArray(e)?e.forEach((function(e){e.classList.add(t)})):e.classList.add(t)}var n=function(){var n=document.querySelector("#popup"),c=document.querySelector(".popup__substrate"),o=n.querySelector(".popup__btn-close"),r=document.querySelectorAll(".popupToggle"),i=n.querySelector("form"),a="popup-show";i.addEventListener("submit",(function(o){o.preventDefault();var r=function(e){var t=Object.fromEntries(new FormData(e).entries());return console.log(t),e.reset(),t}(i);e([n],a),function(n,c,o){var r=document.querySelector("#thanks"),i=r.querySelector(".name"),a=r.querySelector(".phone");i.textContent=n.name,a.textContent=n.phone,t([r,c],o),c.addEventListener("click",(function(){e([r,c],o)})),setTimeout((function(){e([r,c],o)}),4e3)}(r,c,a)})),r.forEach((function(e){e.addEventListener("click",(function(){n.classList.contains("popup-show")||t([n,c],a)}))})),window.addEventListener("keyup",(function(t){27===t.keyCode&&e([n,c],a)}));var s=function(t){t.addEventListener("click",(function(){e([n,c],a)}))};s(o),s(c)};function c(){var e=document.querySelector(".pg__content-thumb");if(e){e.querySelector(".thumb");var t=e.querySelectorAll(".thumb__item"),n=document.querySelector(".pg__fullImg-img"),c=e.querySelector(".thumb__btn-l"),o=e.querySelector(".thumb__btn-r"),r=0,i="img__active";a(r),t.forEach((function(e,t){e.addEventListener("click",(function(){a(r=t)}))})),c.addEventListener("click",(function(){s(-1)})),o.addEventListener("click",(function(){s(1)}))}function a(e){e>t.length-1&&(r=0),e<0&&(r=t.length-1),t.forEach((function(e){return e.classList.remove(i)}));for(var c=0;c<4;c++)e>t.length-1&&(e=0),e<0&&(e=t.length-1),t[e].classList.add(i),t[e].style.left=26*c+"%",e++;var o=t[r].querySelector("img");n.setAttribute("src",o.getAttribute("src"))}function s(e){a(r+=e)}}function o(){var e=document.querySelector(".wrap-catalog");if(e){var t,n=e.querySelector(".wrap-content"),c=n.querySelectorAll(".slider-item"),o=(n.querySelectorAll(".is-slider-show"),e.querySelector(".slider-bottom-pagination")),r=0,i="is-active-sub-line",a="is-slider-show",s=0,u=[],l=[window.matchMedia("(min-width: ".concat(540,"px) and (max-width: ").concat(961,"px)")),window.matchMedia("(max-width: ".concat(540,"px)")),window.matchMedia("(min-width: ".concat(962,"px)"))],d=function(e){l[0].matches?(s=2,m(r),f()):l[2].matches?(s=4,m(r),f()):l[1].matches&&(s=1,m(r),f())};!function(){for(var e=0;e<s;e++)h(e)}(),l.forEach((function(e){d(),e.addListener(d)})),m(r),t=document.querySelectorAll(".sub-line"),c.forEach((function(e){var n,o;e.addEventListener("touchstart",(function(e){console.log(e.changedTouches[0]),n=e.changedTouches[0].screenX})),e.addEventListener("touchend",(function(e){var i=r;console.log(r,"SLIDEINDEX"),v(t),o=e.changedTouches[0].screenX;var a=n-o;console.log(a),i=a>0?i+1>=c.length?c.length-1:i+1:i-1<0?0:i-1,r=i,p(i,t[i+1])}))}))}function f(){if(u.forEach((function(e){e.remove()})),c.length>4||c.length>2||c.length>1)for(var e=c.length/s,t=0;t<e;t++)h(t)}function h(e){var t=document.createElement("span");t.classList.add("sub-line"),p(e,t),u.push(t),o.append(t),function(e,t){e.addEventListener("click",(function(){v(u),m(t),e.classList.add(i)}))}(t,e)}function m(e){console.log(e),c.forEach((function(e){e.classList.remove(a)})),r=e,1===s&&c[e].classList.add(a),2===s&&(0==e&&(c[e].classList.add(a),c[e+1].classList.add(a)),1==e&&(c[e+1].classList.add(a),c[e+2].classList.add(a))),4===s&&c.forEach((function(e){e.classList.add(a)}))}function v(e){e.forEach((function(e){e.classList.remove(i)}))}function p(e,t){e==r&&(t.classList.add(i),m(e))}}window.addEventListener("DOMContentLoaded",(function(){var r,i,a,s;r=document.querySelector(".menu-header"),i=document.querySelector(".btn__menu-header"),a=r.querySelector(".close__btn"),s=document.querySelector("body"),i.addEventListener("click",(function(){r.classList.contains("is-header-show")||(t(r,"is-header-show"),t(s,"modal-open"))})),a.addEventListener("click",(function(){e(r,"is-header-show"),e(s,"modal-open")})),n(),c(),o()}))})();